<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0065)http://people.inf.elte.hu/koguaai/java201620172/gy12/uno/uno.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="generator" content="pandoc">
  <title>Programozási nyelvek (Java) vizsga, 2018.01.29.</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  	<link rel="stylesheet" href="http://gabeee.web.elte.hu/taskstyle.css">
</head>
<body style="padding: 16px;">
<h1 id="általános-tudnivalók">Általános tudnivalók</h1>
<p>Ebben az ismertetésben az osztályok, valamint a minimálisan szükséges metódusok leírásai fognak szerepelni. A feladatmegoldás során fontos betartani az elnevezésekre és típusokra vonatkozó megszorításokat, illetve a szövegek formázási szabályait. A részfeladatok megoldása során ügyeljünk arra, hogy a megadottakon kívül egyetlen osztály se tartalmazzon más publikus metódust vagy adattagot, illetve egyik csomag se tartalmazzon más osztályokat! Ha az implementáció megköveteli, akkor az osztályok rejtett adattagokkal és metódusokkal szabadon bővíthetők. A feladatban nem megkötött adattagok és elnevezéseik a feladat megoldójára vannak bízva. Törekedni kell arra, hogy az osztályok belső reprezentációja a lehető legjobban legyen védve, tehát csak akkor és csak olyan hozzáférés megengedett, amelyre a feladat felszólít, vagy amit az osztályt használó kódrészlet megkíván!</p>
<p>A megírt forráskód kellően általános és újrafelhasználható legyen! A feladatleírásban szereplő követelmények teljesítése mellett azt is pontozzuk, ha a hallgató az adott feladatrészt szépen, stílusosan, a félévben tanult alapvető programozási irányelvek betartásával készítette el. Így például levonunk pontot optimalizálatlan, kódismétlésekkel teli vagy konvenciókat erősen sértő kód esetén. <a href="https://bead.inf.elte.hu/files/java/kodminoseg.html">konvenciók</a></p>
<p>Használható segédanyagok: <a href="https://bead.inf.elte.hu/files/java/api/index.html">Java dokumentáció</a>, legfeljebb egy üres lap és toll. Ha bármilyen kérdés, észrevétel felmerül, azt a felügyelőknek kell jelezni, <em>NEM</em> a diáktársaknak! <em>Figyelem!</em> Az a metódus, amely fordítási hibát tartalmaz, automatikusan <em>nulla</em> pontot ér!</p>
<h1 id="a-feladat-leírása">A feladat leírása</h1>
<p>Buszokat fogunk leegyszerűsítve modellezni. Ezt a lehető legáltalánosabb, újra felhasználható módon próbáljuk megtenni. A feladat során modellezzük a busz a személyzetét és a szállított utasokat is.</p>
<p>Készítsünk a megoldásunkhoz egy főprogramot is, amely alaposan leteszteli az elkészült kódot. (1 pont)</p>
<h2 id="rész-1-pont">1. rész (1 pont)</h2>
<h3 id="hu.bkv.passenger.exception.passengerwithoutticket-osztály-1-pont"><code>hu.bkv.passenger.exception.PassengerWithoutTicket</code> osztály (1 pont):</h3>
<ul>
<li><em>Nem ellenőrzött</em> kivétel osztály.</li>
<li><p>Legyen egy nyilvános konstruktora, mely egy <code>String</code> paramétert vár, ez egy utas neve lesz. Hívja meg a szülőosztály <code>String</code> paraméteres konstruktorát a következő üzenettel:</p>
<pre><code>[name] does not have a ticket!</code></pre></li>
<li><p>Terhelje túl a konstruktort egy <code>Passenger</code> (részletesebben később) paraméterű konstruktorral, hívja meg a korábbi konstruktort az objektum nevével.</p></li>
</ul>
<h2 id="rész-6-pont">2. rész (6 pont)</h2>
<h3 id="hu.bkv.passenger.gender-felsorolási-típus-05-pont"><code>hu.bkv.passenger.Gender</code> felsorolási típus (0,5 pont)</h3>
<p>Ez egy nyilvános felsorolási típus, mely a nemeket fogja reprezentálni. Két eleme legyen: <code>FEMALE</code> és <code>MALE</code>.</p>
<h3 id="hu.bkv.passenger.person-osztály-2-pont"><code>hu.bkv.passenger.Person</code> osztály (2 pont)</h3>
<p>Ez a nyilvános osztály egy személyt fog reprezentálni.</p>
<ul>
<li>Legyen egy <code>String</code> típusú, <code>name</code> nevű attribútuma, mely módosíthatatlan és rejtett láthatóságú. Ezt inicializáljuk a nyilvános konstruktorban, az értékét a konstruktor paraméterként kapja meg. Írjunk nyilvános <em>getter</em> metódust hozzá.</li>
<li>Legyen egy <code>Gender</code> típusú, <code>gender</code> nevű attribútuma, mely módosíthatatlan és rejtett láthatóságú. Ezt inicializáljuk a nyilvános konstruktorban, az értékéhez generáljunk egy random számot, és annak értéke alapján határozzuk meg.</li>
<li>Legyen egy absztrakt metódusa, melynek a visszatérési értéke <code>boolean</code> és a neve <code>isAdult</code>. Azt fogja eldönteni, hogy a személyünk felnőttnek számít-e.</li>
<li>Definiálja felül az <code>equals</code> metódust úgy, hogy két <code>Person</code> pontosan akkor egyenlő, ha a nevük és a nemük megegyezik. (Ne feledkezzen meg a <code>hashCode</code>-ról!)</li>
<li><p>Definiálja felül a <code>toString</code> metódust a következőképpen.</p>
<pre><code>My name is: [name] [[gender]]</code></pre>
<p>Például:</p>
<pre><code>My name is: Pista [MALE]
My name is: Gabi [FEMALE]</code></pre></li>
</ul>
<h3 id="hu.bkv.passenger.passenger-osztály-15-pont"><code>hu.bkv.passenger.Passenger</code> osztály (1,5 pont)</h3>
<p>Ez a nyilvános osztály a <code>Person</code> osztály leszármazottja, és egy utast fog reprezentálni.</p>
<ul>
<li>Legyen egy <code>int</code> típusú, <code>age</code> nevű attribútuma, mely módosíthatatlan és rejtett láthatóságú. Ezt (is) inicializáljuk a konstruktorában: az értékét a konstruktor paraméterként kapja meg. Írjunk nyilvános <em>getter</em> metódust hozzá.</li>
<li>Legyen egy <code>Integer</code> típusú, <code>ticket</code> nevű attribútuma, mely rejtett láthatóságú. Ezt (is) inicializáljuk a<br>
konstruktorában: az értékét a konstruktor paraméterként kapja meg. Írjunk nyilvános <em>getter</em> és <em>setter</em> metódust hozzá.</li>
<li>Az <code>isAdult</code> metódusa térjen vissza igazzal, ha már több, mint 18 éves, különben hamissal.</li>
<li><p>Definiáljuk felül a <code>toString</code> metódust. A <code>Person</code> osztályban megadott ábrázoláshoz képest, attól egy szóközzel elválasztva jelenítsük meg a <code>Person</code> korát zárójelben.</p>
<pre><code>Például:
My name is: Pista [MALE] (20)</code></pre></li>
</ul>
<h3 id="hu.bkv.passenger.inspector-interfész-05-pont"><code>hu.bkv.passenger.Inspector</code> interfész (0,5 pont)</h3>
<p>Ellenőrt reprezentáló nyilvános interfész.</p>
<ul>
<li>Legyen egy visszatérési érték nélküli, <code>checkTicket</code> nevű, <code>Bus</code> és <code>Passenger</code> típusú paramétereket váró metódusa. Ezen keresztül lehet majd ellenőrizni, hogy az utas felszállhat-e a buszra.</li>
</ul>
<h3 id="hu.bkv.passenger.busdriver-osztály-15-pont"><code>hu.bkv.passenger.BusDriver</code> osztály (1,5 pont)</h3>
<p>Buszsofőrt megvalósító nyilvános osztály.</p>
<ul>
<li>Származzon a <code>Person</code> osztályból.</li>
<li>Azt szeretnénk, hogy egy buszhoz csak egy sofőr jöjjön létre, illetve busz nélkül ne is lehessen létrehozni sofőrt. Ehhez legyen egy rejtett láthatóságú, paraméter nélküli konstruktora. Névnek adjunk át üres <code>String</code> -et. Legyen egy osztályszintű, rejtett láthatóságú, végleges <code>Map&lt;String, BusDriver&gt;</code> típusú, <code>DRIVERS</code> nevű változója. Ebben fogjuk a sofőröket tárolni. Legyen egy osztályszintű, nyílvános, <code>BusDriver</code> visszatérési értékű, <code>getDriver</code> nevű, <code>String</code> paraméterű metódusa. A paraméter a busz rendszámát reprezentálja. Ha az adott rendszám már megtalálható a <code>DRIVERS</code>-ben, akkor visszatér a hozzá tartozó értékkel. Ha nem, akkor létrehoz egy újat, eltárolja a paraméterül kapott rendszám alapján és az új értékkel tér vissza.</li>
<li>Az <code>isAdult</code> metódusa legyen mindig igaz.</li>
<li>Implementálja az <code>Inspector</code> interfészt. A <code>checkTicket</code> ellenőrzi a paraméterül kapott utas jegyét. Ha az utas jegye <code>null</code> vagy értéke nagyobb, mint a busz kapacitása, akkor váltson ki egy <code>PassengerWithoutTicket</code> kivételt.</li>
</ul>
<h2 id="rész-4-pont">3. rész (4 pont)</h2>
<h3 id="hu.bkv.bus.bus-osztály-2-pont"><code>hu.bkv.bus.Bus</code> osztály (2 pont)</h3>
<p>A buszt fogja modellezni.</p>
<ul>
<li>Legyen egy <code>passangers</code> nevű, <code>Person</code> típusú objektumokat tároló halmaz (<code>java.util.Set</code>), mely az osztály rejtett láthatóságú, módosíthatatlan attribútuma. Ezt inicializáljuk az osztály konstruktorában. Ebben a mezőben lesznek az utasok eltárolva.</li>
<li>Legyen az osztályban egy <code>capacity</code> nevű, <code>int</code> típusú, rejtett láthatóságú, módosíthatatlan attribútum. Ezt inicializáljuk az osztály konstruktorában, az értékét a konstruktor paraméterül kapja. Ebben a mezőben lesz a busz kapacitása eltárolva. Írjon hozzá <em>getter</em> metódust.</li>
<li>Legyen egy <code>busDriver</code> nevű, <code>BusDriver</code> típusú , az osztály leszármazottainak látható, módosíthatatlan attribútuma. Ezt inicializáljuk az osztály konstruktorában, melyhez a busz rendszámát egy <code>String</code> típusú paraméterként kapja meg. Ebben a mezőben lesz a busz vezetője eltárolva.</li>
<li>Legyen egy <code>getOn</code> nevű publikus metódusa, mely egy <code>Person</code> típusú objektumot vár. Rakja bele a kapott objektumot a <code>passangers</code> gyűjteménybe, ha abban még a busz megadott kapacitánánál kevesebb elem van. A metódus adja vissza egy <code>boolean</code>-ban, hogy sikerült-e új elemként betennie a kapott paramétert a gyűjteménybe.</li>
<li>Legyen egy <code>getPassengers</code> nevű publikus metódusa, melynek visszatérési értéke <code>Person</code> típusú objektumokat tároló <code>Collection</code>. Visszaadja az eddig eltárolt <code>Person</code> típusú objektumokat (egy új gyűjteményben).</li>
<li>Legyen egy nyilvános <code>isBusDriverOnBoard</code> metódusa, melynek visszatérési értéke <code>boolean</code>. Akkor tér vissza igazzal, ha az utasok között van sofőr.</li>
<li>Nehezítés: az osztálynak legyen egy <code>T</code> típusparamétere, és ezt használja a <code>Person</code> típus helyett. Ha tudja hogyan kell, adjon erre a típusparaméterre egy olyan megkötést (<em>upper bound</em>), miszerint egy altípusa legyen a <code>Person</code> típusnak. Ha ezt nem tudja, feltételezheti, hogy a <code>getOn</code> mindig <code>Person</code> típusú értéket kap majd, így a <code>passangers</code>-ban is mindig az lesz.</li>
</ul>
<h3 id="hu.bkv.bus.longdistancebus-osztály-2-pont"><code>hu.bkv.bus.LongDistanceBus</code> osztály (2 pont)</h3>
<p>A távolsági buszokat fogja modellezni.</p>
<ul>
<li>Származzon az <code>Bus</code> osztályból. (Ha az generikus, akkor a <code>LongDistanceBus</code> ne legyen az, hanem kösse meg a típusparamétert a <code>Passenger</code> típusra.)</li>
<li>Legyen egy <code>Inspector</code> típusú, <code>inspector</code> nevű, rejtett láthatóságú, módosithatatlan attribútuma. Ezt inicializálja a konstruktorban, melynek az értéke legyen a <code>busDriver</code>.</li>
<li>Készítsünk egy rejtett <code>findTicket</code> metódust, melynek visszatérési érték <code>Integer</code>. Ezzel megpróbálunk még helyet találni a buszon, ha lehetséges. Keresse meg a legkisebb olyan számot, mely legalább 1, legfeljebb a busz kapacitása, és még egyetlen felszállt utas sem rendelkezik vele. Ha ilyen nincs, akkor térjen vissza <code>null</code> -al.</li>
<li>Definálja felül a <code>getOn</code> metódust. Amennyiben az utas fiatalabb mint 7 vagy idősebb mint 65 év vagy az életkorának 7-el vett osztási maradéka éppen 3 (speciális kedvezmény), keressünk jegyet neki a <code>findTicket</code> metódussal. Ennek eredményét állítsuk is be az utas jegyének. Ezután az ellenőr ellenőrizze le a jegyet, majd szállítsuk fel a buszra, ahogy a szülőosztály teszi.</li>
</ul></body></html>